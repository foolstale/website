<!doctype html>
<html lang="en" class="theme-dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Contact - Andrew Watson</title>
    <meta name="description" content="Contact Andrew Watson with questions, requests, or opportunities." />

    <link rel="icon" href="assets/Favicon.png" />
    <link rel="apple-touch-icon" href="assets/Favicon.png" />
    <link rel="stylesheet" href="styles.css" />
    <script>
      (function(){
        try {
          var t = localStorage.getItem('theme');
          if (t === 'light') document.documentElement.classList.remove('theme-dark');
          else document.documentElement.classList.add('theme-dark');
        } catch (e) {}
      })();
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"/>

  </head>
  <body>
    <a class="skip-link" href="#content">Skip to content</a>

    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="brand">Andrew Watson</a>
        <nav class="nav">
          <a href="series/shadowbinders/index.html">Books</a>
          <a href="maps/tarris.html">Map</a>
          <a href="index.html#about">About</a>
          <a href="index.html#newsletter">Newsletter</a>
          <a href="contact.html" aria-current="page">Contact</a>
        </nav>
        <!-- <button class="theme-toggle" aria-label="Toggle theme" title="Toggle theme">
          <span class="sun" aria-hidden="true"></span>
          <span class="moon" aria-hidden="true"></span>
        </button> -->
      </div>
    </header>

    <main id="content">
      <section class="section">
        <div class="container">
          <h1 class="section-title">Contact</h1>
          <p class="section-kicker">Got a question or request?</p>

          <form class="contact-form" action="#" method="post" novalidate>
            <div class="form-field">
              <label for="name">Name</label>
              <input id="name" name="name" type="text" required />
            </div>

            <div class="form-field">
              <label for="email">Email</label>
              <input id="email" name="email" type="email" required />
            </div>

            <div class="form-field">
              <label for="subject">Subject <span class="label-optional" aria-hidden="true">(optional)</span></label>
              <input id="subject" name="subject" type="text" />
            </div>

            <div class="form-field">
              <label for="message">Message</label>
              <textarea id="message" name="message" rows="7" required></textarea>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Send Message</button>
            </div>
            <div class="form-success" role="status" aria-live="polite" hidden>
              Thanks! Your message has been sent.
            </div>
          </form>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-brand">Â© <span id="year"></span> Andrew Watson</div>
        <div class="footer-links">
          <a href="https://www.youtube.com/@the_fools_tale/" target="_blank" rel="noopener" aria-label="YouTube" class="icon-link">
            <i class="fa-brands fa-youtube"></i>
          </a>
          <a href="https://instagram.com/the_fools_tale" target="_blank" rel="noopener" aria-label="Instagram" class="icon-link">
            <i class="fa-brands fa-instagram"></i>
          </a>
          <a href="https://x.com/AndrewTheWatson" target="_blank" rel="noopener" aria-label="X (Twitter)" class="icon-link">
            <i class="fa-brands fa-x-twitter"></i>
          </a>
          <a href="https://discord.gg/4MXUYMmemK" target="_blank" rel="noopener" aria-label="Discord" class="icon-link">
            <i class="fa-brands fa-discord"></i>
          </a>
          <a href="https://www.patreon.com/thefoolstale" target="_blank" rel="noopener" aria-label="Patreon" class="icon-link">
            <i class="fa-brands fa-patreon"></i>
          </a>
        </div>
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        var form = document.querySelector('.contact-form');
        if (!form) return;

        // Build the contact email at runtime to avoid exposing it in HTML.
        var CONTACT_EMAIL = (function(){
          var codes = [97,110,100,114,101,119,64,97,110,100,114,101,119,45,119,97,116,115,111,110,46,99,111,46,117,107];
          var out = '';
          for (var i = 0; i < codes.length; i++) out += String.fromCharCode(codes[i]);
          return out;
        })();

        form.addEventListener('submit', function(e){
          e.preventDefault();

          if (form.checkValidity && !form.checkValidity()) {
            form.reportValidity && form.reportValidity();
            return;
          }

          var name = (document.getElementById('name') || {}).value || '';
          var email = (document.getElementById('email') || {}).value || '';
          var subject = (document.getElementById('subject') || {}).value || '';
          var message = (document.getElementById('message') || {}).value || '';

          name = name.trim();
          email = email.trim();
          subject = subject.trim();
          message = message.trim();

          var fullSubject = '[FORM] ' + (name || 'Unknown') + ' - ' + (subject || 'Message');
          var bodyLines = [
            'Name: ' + name,
            'Email: ' + email,
            '',
            'Message:',
            message
          ];
          var body = bodyLines.join('\n');

          var mailto = 'mailto:' + encodeURIComponent(CONTACT_EMAIL)
            + '?subject=' + encodeURIComponent(fullSubject)
            + '&body=' + encodeURIComponent(body);

          // Open the user's default email client.
          window.location.href = mailto;
        });
      });
    </script>
  </body>
</html>
